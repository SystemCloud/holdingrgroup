!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs/operator/combineLatest"),require("@angular/core"),require("ngx-modialog"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","rxjs/operator/combineLatest","@angular/core","ngx-modialog","@angular/common"],e):e((t.ngxModialog=t.ngxModialog||{},t.ngxModialog.vex=t.ngxModialog.vex||{}),t.Rx.Observable.prototype,t.ng.core,t.ngxModialog,t.ng.common)}(this,function(t,e,n,o,i){"use strict";var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(){function t(){this.onButtonClick=new n.EventEmitter}return t.prototype.onClick=function(t,e){e.stopPropagation(),this.onButtonClick.emit({btn:t,$event:e})},t}();s.decorators=[{type:n.Component,args:[{selector:"vex-dialog-buttons",encapsulation:n.ViewEncapsulation.None,template:'<div class="vex-dialog-buttons">\n    <button type="button" \n         *ngFor="let btn of buttons;"\n         [class]="btn.cssClass"\n         (click)="onClick(btn, $event)">{{btn.caption}}</button>\n</div>'}]}],s.ctorParameters=function(){return[]},s.propDecorators={buttons:[{type:n.Input}],onButtonClick:[{type:n.Output}]};var r=function(){function t(t){this.dialog=t,this.context=t.context}return t.prototype.onButtonClick=function(t){t.btn.onClick(this,t.$event)},t}();r.decorators=[{type:n.Component,args:[{selector:"modal-dialog",encapsulation:n.ViewEncapsulation.None,template:'<form class="vex-dialog-form">\n    <ng-container *ngComponentOutlet="context.content"></ng-container>\n    <vex-dialog-buttons [buttons]="context.buttons"\n                        (onButtonClick)="onButtonClick($event)"></vex-dialog-buttons>\n</form>'}]}],r.ctorParameters=function(){return[{type:o.DialogRef}]};var l=function(){return function(t){this.dialog=t,this.context=t.context}}();l.decorators=[{type:n.Component,args:[{selector:"drop-in-dialog",encapsulation:n.ViewEncapsulation.None,template:'<div class="vex-dialog-message">{{context.message}}</div>\n <div *ngIf="context.showInput" class="vex-dialog-input">\n   <input #input\n          autofocus\n          name="vex" \n          type="text" \n          class="vex-dialog-prompt-input"\n           (change)="context.defaultResult = input.value" \n          placeholder="{{context.placeholder}}">\n </div>\n <div *ngIf="context.showCloseButton" \n      [class]="context.closeClassName"\n      (click)="dialog.dismiss()"></div>'}]}],l.ctorParameters=function(){return[{type:o.DialogRef}]};var c={className:"default",overlayClassName:"vex-overlay",contentClassName:"vex-content",closeClassName:"vex-close"},u=["className","overlayClassName","contentClassName","closeClassName","showCloseButton"],d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.normalize=function(){this.className||(this.className=c.className),this.overlayClassName||(this.overlayClassName=c.overlayClassName),this.contentClassName||(this.contentClassName=c.contentClassName),this.closeClassName||(this.closeClassName=c.closeClassName),t.prototype.normalize.call(this)},e}(o.ModalOpenContext),p=function(t){function e(e,n,i){return void 0===e&&(e=undefined),void 0===n&&(n=undefined),void 0===i&&(i=undefined),t.call(this,o.extend(c,e||{}),o.arrayUnion(u,n||[]),i||d)||this}return a(e,t),e.prototype.overlayClosesOnClick=function(t){return this[o.privateKey("isBlocking")]=!t,this},e}(o.ModalOpenContextBuilder),m=["content"],f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(d),y=function(t){function e(e,n,i,a){return void 0===n&&(n=undefined),void 0===i&&(i=undefined),void 0===a&&(a=undefined),t.call(this,o.extend({modal:e,component:r,buttons:[],defaultResult:!0},n||{}),o.arrayUnion(m,i||[]),a||f)||this}return a(e,t),e.prototype.addButton=function(t,e,n){var i={cssClass:t,caption:e,onClick:n};return this[o.privateKey("buttons")].push(i),this},e.prototype.addOkButton=function(t){return void 0===t&&(t="OK"),this.addButton("vex-dialog-button-primary vex-dialog-button vex-first",t,function(t,e){return t.dialog.close(t.dialog.context.defaultResult)}),this},e.prototype.addCancelButton=function(t){return void 0===t&&(t="CANCEL"),this.addButton("vex-dialog-button-secondary vex-dialog-button vex-last",t,function(t,e){return t.dialog.dismiss()}),this},e}(p),v={component:r,content:l,okBtn:"OK",cancelBtn:"Cancel"},h=["okBtn","cancelBtn","placeholder"],g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),Object.defineProperty(e.prototype,"showInput",{get:function(){return this.dropInType===o.DROP_IN_TYPE.prompt},enumerable:!0,configurable:!0}),e}(f),x=function(t){function e(e,n,i){return void 0===i&&(i=undefined),t.call(this,e,o.extend(o.extend({modal:e,dropInType:n},v),i||{}),h,g)||this}return a(e,t),e.prototype.$$beforeOpen=function(e){switch(t.prototype.$$beforeOpen.call(this,e),e.okBtn&&this.addOkButton(e.okBtn),e.dropInType){case o.DROP_IN_TYPE.prompt:e.defaultResult=undefined;break;case o.DROP_IN_TYPE.confirm:e.cancelBtn&&this.addCancelButton(e.cancelBtn)}},e}(y),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.apply=function(t){t.setClickBoundary(this.vexContentContainer.nativeElement),this.dialog.inElement&&(this.setStyle("padding","20px 0 0 0"),"bottom-right-corner"===this.dialog.context.className&&(this.setStyle("overflow-y","hidden"),this.renderer.setStyle(this.vexContentContainer.nativeElement,"position","absolute")))},e}(o.CSSDialogContainer);C.decorators=[{type:n.Component,args:[{selector:"css-dialog-container",host:{tabindex:"-1",role:"dialog"},encapsulation:n.ViewEncapsulation.None,template:'<div #clickBoundary class="{{dialog.context.contentClassName}}"><ng-content></ng-content></div>'}]}],C.ctorParameters=function(){return[]},C.propDecorators={vexContentContainer:[{type:n.ViewChild,args:["clickBoundary",{read:n.ElementRef}]}]};var b=!("undefined"==typeof document||!document),k=!1,B=function(t){function n(e){return t.call(this,e)||this}return a(n,t),n.prototype.alert=function(){return new x(this,o.DROP_IN_TYPE.alert,{isBlocking:!1})},n.prototype.prompt=function(){return new x(this,o.DROP_IN_TYPE.prompt,{isBlocking:!0,keyboard:null})},n.prototype.confirm=function(){return new x(this,o.DROP_IN_TYPE.confirm,{isBlocking:!0,keyboard:null})},n.prototype.create=function(t,e){var n=this;if(!0===k)return this.createV3(t,e);var i=this.createBackdrop(t,o.CSSBackdrop),a=this.createContainer(t,C,e),s=t.overlayRef.instance,r=i.instance,l=a.instance;return t.inElement?(s.insideElement(),s.setContainerStyle("position","relative").setContainerStyle("height","100%").setContainerStyle("width","100%"),r.setStyle("position","absolute").setStyle("display","block").setStyle("height","100%").setStyle("width","100%"),l.setStyle("position","relative").setStyle("display","block").setStyle("height","100%").setStyle("width","100%")):s.fullscreen(),b&&!document.body.classList.contains("vex-open")&&document.body.classList.add("vex-open"),r.addClass("vex-overlay"),l.addClass("vex vex-theme-"+t.context.className),l.setStyle("display","block"),a.location.nativeElement&&a.location.nativeElement.focus(),s.beforeDestroy(function(){r.addClass("vex-closing"),l.addClass("vex-closing");var e=new o.PromiseCompleter;return r.myAnimationEnd$().subscribe(function(o){b&&1===n.overlay.groupStackLength(t)&&document.body.classList.remove("vex-open"),e.resolve()}),e.promise}),l.apply(s),t},n.prototype.createV3=function(t,n){var i=this,a=this.createBackdrop(t,o.CSSBackdrop),s=this.createContainer(t,o.CSSDialogContainer,n),r=t.overlayRef.instance,l=a.instance,c=s.instance;return t.inElement?r.insideElement():r.fullscreen(),b&&!document.body.classList.contains("vex-open")&&document.body.classList.add("vex-open"),r.addClass("vex vex-theme-"+t.context.className),l.addClass("vex-overlay"),c.addClass(t.context.contentClassName),c.setStyle("display","block"),t.inElement&&(r.setStyle("padding","0"),c.setStyle("margin-top","20px")),s.location.nativeElement&&s.location.nativeElement.focus(),"bottom-right-corner"===t.context.className&&(r.setStyle("overflow-y","hidden"),c.setStyle("position","absolute")),r.beforeDestroy(function(){r.addClass("vex-closing");var n=new o.PromiseCompleter,a=c.myAnimationEnd$();return"bottom-right-corner"!==t.context.className&&(a=e.combineLatest.call(a,l.myAnimationEnd$(),function(t,e){return[t,e]})),a.subscribe(function(e){b&&1===i.overlay.groupStackLength(t)&&document.body.classList.remove("vex-open"),n.resolve()}),n.promise}),r.setClickBoundary(s.location.nativeElement),t},n}(o.Modal);B.decorators=[{type:n.Injectable}],B.ctorParameters=function(){return[{type:o.Overlay}]};var N=[{provide:o.Modal,useClass:B},{provide:B,useClass:B}],E=function(){function t(){}return t.getProviders=function(){return N},t}();E.decorators=[{type:n.NgModule,args:[{imports:[o.ModalModule,i.CommonModule],declarations:[C,s,l,r],providers:N,entryComponents:[C,r,l]}]}],E.ctorParameters=function(){return[]},t.Modal=B,t.vexV3Mode=function(){k=!0},t.VEXModalContext=d,t.VEXModalContextBuilder=p,t.DropInPreset=g,t.DropInPresetBuilder=x,t.DialogFormModal=r,t.FormDropIn=l,t.VEXDialogButtons=s,t.DialogPreset=f,t.DialogPresetBuilder=y,t.VexModalModule=E,t.providers=N,t.Éµa=C,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-modialog-vex.umd.js.map